<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Document</title>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="https://bytebank-servidor.herokuapp.com/socket.io/socket.io.js"></script>
        <script>
            //google.charts.load('current', {'packages': ['corechart'],'language': 'pt'});
            google.charts.load('current', {'packages':['corechart']});
            function desenharGraficos() {

                var dados = $.ajax({
                    cache: false,
                    method: "get",
                    url: "/dados",
                    success: (data) => {
                        return data;
                    },
                    error: (e) => {
                        console.log("Erro: ", e);
                        return;
                    }
                });

                var tabela = new google.visualization.DataTable(dados);
                //tabela.sort([{column: 1, desc: true}]);
                var opcoes = {
                    title: 'dados',
                    height: 400,
                    width: 800,
                    legend: 'none',
                    hAxis: {
                        gridlines: {
                            color: 'transparent'
                        },
                        textPosition: 'none'
                    },
                    annotations: {
                        alwaysOutside: true
                    }
                }
                var grafico = new google.visualization.LineChart(document.getElementById("graficoArea"));
                grafico.draw(tabela, opcoes);

            };

            google.charts.setOnLoadCallback(desenharGraficos);
        </script>
    </head>
    <body>
        <div id="graficoArea"></div>
    </body>
</html>